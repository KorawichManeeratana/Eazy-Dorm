<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Profile Page</title>
    <link rel="stylesheet" href="/stylesheets/profile.css" />
  </head>
  <body>
    <div class="container">
      <main class="profile">
        <div class="profile-header">
          <img
            src="https://png.pngtree.com/background/20230613/original/pngtree-dorm-room-with-bunk-beds-and-a-desk-picture-image_3398610.jpg"
            alt="Background"
            class="profile-bg"
          />
          <div class="profile-info">
            <img
              src="/images/<% data.user_pic %>"
              alt="Profile"
              class="profile-pic"
            />
            <div class="profile-text">
              <h1><%= data.username%></h1>
              <p class="profile-title" id="usernameprof">
                <%= data.first_name%> <%= data.last_name%>
              </p>
              <p class="dob" id="dobprof">วันเกิด: <%= data.dob%></p>
              <div class="profile-tags">
                <span id="roletag">
                  <% if (data.role === "owner") { %>
                    เจ้าของหอพัก
                  <% } else if (data.role === "lodger") { %>
                    ผู้เข้าพัก
                  <% } %>
                </span>
              </div>
            </div>
          </div>
        </div>
      </main>

      <% if (rent === true) { %>
      <div class="profile-about">
        <div style="display: flex; gap: 2px">
          <h2>ห้องพักของฉัน</h2>
          <p style="margin-top: 2.25%" id="roomprof">
            - ชื่อหอพัก: <%= data.name%>
          </p>
        </div>
        <div style="display: flex; justify-content: space-between">
          <p id="roomnoprof">ห้องเลขที่: <%= data.room_number%></p>
          <a href="/roominfo/<%= data.dorm_id%>"
            ><button class="message-button">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                fill="currentColor"
                class="bi bi-send"
                viewBox="0 0 16 16"
              >
                <path
                  d="M15.854.146a.5.5 0 0 1 .11.54l-5.819 14.547a.75.75 0 0 1-1.329.124l-3.178-4.995L.643 7.184a.75.75 0 0 1 .124-1.33L15.314.037a.5.5 0 0 1 .54.11ZM.764 7.378l8.946 5.367 3.178 4.995L.764 7.378Z"
                />
              </svg>
              หอพักนี้
            </button></a
          >   
          <a href="/reportform/<%= data.room_id %>"
            ><button class="message-button">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                fill="currentColor"
                class="bi bi-send"
                viewBox="0 0 16 16"
              >
                <path
                  d="M15.854.146a.5.5 0 0 1 .11.54l-5.819 14.547a.75.75 0 0 1-1.329.124l-3.178-4.995L.643 7.184a.75.75 0 0 1 .124-1.33L15.314.037a.5.5 0 0 1 .54.11ZM.764 7.378l8.946 5.367 3.178 4.995L.764 7.378Z"
                />
              </svg>
              แจ้งปัญหา
            </button></a
          >  
        </div>
        <img src="<%= data.dorm_pic%>" />
        <p id="dormaddressprof">ที่อยู่: <%= data.address%></p>
        <p id="dormcontactprof">
          ช่องทางติดต่อ:
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="16"
            height="16"
            fill="currentColor"
            class="bi bi-telephone"
            viewBox="0 0 16 16"
          >
            <path
              d="M3.654 1.328a.678.678 0 0 0-1.015-.063L1.605 2.3c-.483.484-.661 1.169-.45 1.77a17.6 17.6 0 0 0 4.168 6.608 17.6 17.6 0 0 0 6.608 4.168c.601.211 1.286.033 1.77-.45l1.034-1.034a.678.678 0 0 0-.063-1.015l-2.307-1.794a.68.68 0 0 0-.58-.122l-2.19.547a1.75 1.75 0 0 1-1.657-.459L5.482 8.062a1.75 1.75 0 0 1-.46-1.657l.548-2.19a.68.68 0 0 0-.122-.58zM1.884.511a1.745 1.745 0 0 1 2.612.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.68.68 0 0 0 .178.643l2.457 2.457a.68.68 0 0 0 .644.178l2.189-.547a1.75 1.75 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.6 18.6 0 0 1-7.01-4.42 18.6 18.6 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877z"
            />
          </svg
          >  <%= data.phone_contact%>
        </p>
      </div>
      <% } else { %>
      <div class="profile-about notfound">
        <h2>ห้องพักของฉัน</h2>
        <p style="text-align: center">ไม่พบข้อมูลหอพักปัจจุบัน</p>
      </div>
      <% } %>

      <div class="sidebar-container">
        <div class="sidebar">
          <div class="sidebar-section">
            <h2>UID</h2>
            <p id="uidprof">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                fill="currentColor"
                class="bi bi-person"
                viewBox="0 0 16 16"
              >
                <path
                  d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6m2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0m4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4m-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10s-3.516.68-4.168 1.332c-.678.678-.83 1.418-.832 1.664z"
                /></svg
              >  <%= data.user_id%>
            </p>
          </div>
        </div>
        <div class="spacebetside"></div>
        <div class="sidebar2">
          <div class="sidebar-section">
            <h2>ช่องทางติดต่อ</h2>
            <ul>
              <li id="liuseremail">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                  fill="currentColor"
                  class="bi bi-envelope-open"
                  viewBox="0 0 16 16"
                >
                  <path
                    d="M8.47 1.318a1 1 0 0 0-.94 0l-6 3.2A1 1 0 0 0 1 5.4v.817l5.75 3.45L8 8.917l1.25.75L15 6.217V5.4a1 1 0 0 0-.53-.882zM15 7.383l-4.778 2.867L15 13.117zm-.035 6.88L8 10.082l-6.965 4.18A1 1 0 0 0 2 15h12a1 1 0 0 0 .965-.738ZM1 13.116l4.778-2.867L1 7.383v5.734ZM7.059.435a2 2 0 0 1 1.882 0l6 3.2A2 2 0 0 1 16 5.4V14a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V5.4a2 2 0 0 1 1.059-1.765z"
                  /></svg
                >  <%= data.email%>
              </li>
              <li id="liuserphone">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                  fill="currentColor"
                  class="bi bi-telephone"
                  viewBox="0 0 16 16"
                >
                  <path
                    d="M3.654 1.328a.678.678 0 0 0-1.015-.063L1.605 2.3c-.483.484-.661 1.169-.45 1.77a17.6 17.6 0 0 0 4.168 6.608 17.6 17.6 0 0 0 6.608 4.168c.601.211 1.286.033 1.77-.45l1.034-1.034a.678.678 0 0 0-.063-1.015l-2.307-1.794a.68.68 0 0 0-.58-.122l-2.19.547a1.75 1.75 0 0 1-1.657-.459L5.482 8.062a1.75 1.75 0 0 1-.46-1.657l.548-2.19a.68.68 0 0 0-.122-.58zM1.884.511a1.745 1.745 0 0 1 2.612.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.68.68 0 0 0 .178.643l2.457 2.457a.68.68 0 0 0 .644.178l2.189-.547a1.75 1.75 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.6 18.6 0 0 1-7.01-4.42 18.6 18.6 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877z"
                  /></svg
                >  <%= data.Phone%>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>